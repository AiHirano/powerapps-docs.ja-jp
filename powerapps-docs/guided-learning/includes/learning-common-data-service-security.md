このトピックでは、Common Data Service でのセキュリティを取り上げます。 このサービスでは、ロール ベースのシステムを使用してユーザーにデータへのアクセス許可を付与します。 このセキュリティ モデルは階層化されており、各レベルがそれぞれのアクセス レベルを表しています。 最下位レベルには、単一エンティティでの個別の作成、読み取り、更新、および削除のアクセス許可があります。 これらのエンティティ レベルのアクセス許可が 1 つになり、アクセス許可セットが形成されます。 1 つまたは複数のアクセス許可セットが、ロールによって使用されます。 ロールは最上位レベルにあり、ユーザーまたはユーザー グループに必要なすべてのアクセス許可が含まれています。

## <a name="understanding-roles-and-permission-sets"></a>ロールとアクセス許可セットについて
このコースでは主に、powerapps.com および PowerApps Studio に注目してきました。 このトピックでは、PowerApps 管理センターに焦点を当てます。 管理センターで環境をクリックすると、**[セキュリティ]** のタブの下に **[Environment roles (環境ロール)]** (前のトピックを参照)、**[ユーザー ロール]**、および **[Permission sets (アクセス許可セット)]** が表示されます。 既定では、ユーザー ロールは 2 つあります。

* **データベースの所有者**は管理者ロールで、すべてのエンティティへのフル アクセス権があります。
* **組織のユーザー**は、すべてのユーザーに既定で割り当てられているロールです。 このロールでは、すべてのユーザーが公開データを含むエンティティへアクセスすることができます。

![管理センターのユーザー ロール](./media/learning-common-data-service-security/user-roles.png)

既定では、各エンティティにはアクセス許可セットが 2 つあります。 

* **[管理]** では作成、読み取り、更新、削除のアクセス許可を含む、完全なコントロールが付与されます。
* **[ビュー]** では読み取り専用アクセスが付与されます。

次の画像では、アカウント エンティティの既定のアクセス許可セットを表示しています。 

![管理センター アクセス許可セット](./media/learning-common-data-service-security/permission-sets.png)

このビデオでは、追加のロールおよびアクセス許可セットを作成し、アプリケーションへのきめ細かいアクセスを有効にする方法を紹介します。 以前のトピックで作成したカスタム エンティティに完全なアクセス権を付与する**製品レビューの管理**、およびアクセス許可セットを割り当てる **ReviewApp 所有者**ロールを作成します。  

## <a name="restrict-access-to-a-database"></a>データベースへのアクセスを制限する
以前のトピックでデータベースを作成したときは、データベースへのアクセス権を既定のオープンのままにしていました。 アクセス権を変更するには、**[データベース]** タブで **[アクセスの制限]** をクリックして、変更することを確認します。

![データベースへのアクセスを制限する](./media/learning-common-data-service-security/restrict-access.png)

制限モードでは、すべてのユーザーに 1 つまたは複数のロールが割り当てられている必要があります。 ロールは、会社内のどの職位についても設定でき、その職位の人になら誰でも割り当てられます。 所属している Azure Active Directory グループに基づいて、自動的にユーザーをロールに追加することもできます。

## <a name="wrapping-it-up"></a>まとめ
セキュリティは複雑なトピックですが、アクセス権の階層が最も重要な点です。 エンティティでの作成、読み取り、更新、削除のアクセス許可に始まり、アクセス許可セットが形成され、ロールに割り当てられます。 柔軟なシステムであるため、データ アクセスを非常に細かく制御できるようになります。 

以上で Common Data Service のセクションは終了です。このガイド学習コースも終了です。 楽しみながら学んでいただけたでしょうか。ご意見がある場合はお知らせください。今後もコンテンツが追加される予定ですので、またこのページを確認してください。 さらに詳細をお知りになりたい場合は、「[PowerApps の概要](https://powerapps.microsoft.com/tutorials/getting-started/)」を参照してください。 


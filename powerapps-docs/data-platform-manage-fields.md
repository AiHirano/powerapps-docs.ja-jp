---
title: "エンティティでのカスタム フィールドの管理 | Microsoft Docs"
description: "エンティティ内でカスタム フィールドの作成、読み取り、更新、削除を行います。"
services: powerapps
documentationcenter: na
author: kfend
manager: kfend
editor: 
tags: 
ms.service: powerapps
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/20/2017
ms.author: kfend
ms.openlocfilehash: 87be6f571688fd040c5f2578015e1a3393ca9ea1
ms.sourcegitcommit: 6afca7cb4234d3a60111c5950e7855106ff97e56
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/23/2018
---
# <a name="manage-custom-fields"></a>カスタム フィールドの管理
どのエンティティでも 1 つ以上のカスタム フィールドの作成や更新を行うことができます。 カスタム フィールドを作成する際は、フィールドの名前、表示名、フィールドに格納されるデータの型などのプロパティを指定します。 詳細については、「[Entity field data types](https://docs.microsoft.com/en-us/common-data-service/entity-reference/field-data-types)」 (エンティティ フィールドのデータ型) と「[Entity field properties](https://docs.microsoft.com/en-us/common-data-service/entity-reference/field-properties)」 (エンティティ フィールドのプロパティ) を参照してください。

> [!NOTE]
> 各エンティティには、レコードの最終更新日や更新者を示すフィールドなどの[システム フィールド](data-platform-create-entity.md#system-fields-and-the-record-title-field)があります。 また、[標準エンティティ](data-platform-intro.md#standard-entities)には標準 (既定) フィールドがあります。 システム フィールドと標準フィールドは変更や削除ができません。 カスタム フィールドは、これらの組み込みフィールドにない機能が必要な場合に作成してください。

## <a name="create-a-field"></a>フィールドの作成

1. [powerapps.com](https://web.powerapps.com) で、**[Common Data Service]** セクションを展開し、左側のナビゲーション ウィンドウで **[エンティティ]** をクリックまたはタップします。 エンティティが一覧表示されます。 一覧の一番上にカスタム エンティティが表示されるようにするには、**[Type]** (型) 列ヘッダーをクリックまたはタップします。 また、検索バーに文字を入力して一覧をフィルタリングすることもできます。

2. エンティティをクリックまたはタップし、画面の上部にある **[Add field (フィールドの追加)]** をクリックまたはタップします。

3. **[Display name]** (表示名) に、ユーザーがフィールドを識別するためのテキスト文字列を指定します。 詳細については、[アプリの作成](data-platform-create-app.md)に関するページを参照してください。

4. **[Name]** (名前) に、アプリのビルド時に数式などでフィールドの参照に使用するテキスト文字列を指定します。
   
    > [!IMPORTANT]
    > フィールドの作成後は名前を変更できなくなるため、ここには明確でわかりやすい一意の名前を指定してください。

5. **[Type]** (型) に、**Text**  や **Number** など、フィールドに格納されるデータの型を指定します。
   
    > [!IMPORTANT]
    > このプロパティは、フィールドにデータが格納された後では変更できない場合があるため、慎重に指定してください。 指定できるデータ型の詳細については、「[エンティティの概要](data-platform-intro.md#custom-fields)」をご覧ください。

6. 指定したデータ型の追加情報を求められたら、その情報を入力します。

7. **[Unique]** (一意) では、すべてのレコードでこのフィールドの値が一意である必要がある場合に、チェック ボックスをオンにします。

8. **[Required]** (必須) では、すべてのレコードでこのフィールドに値を指定する必要がある場合に、チェック ボックスをオンにします。
   
    > [!IMPORTANT]
    > 標準エンティティのカスタム フィールドに対して、データの格納を必須にすることはできません。 この制限により、そのエンティティに依存するアプリに障害が発生するのを防いでいます。

9. **[Save (保存)]** をクリックまたはタップして変更を送信します。
   
    > [!IMPORTANT]
    > 変更を保存する前にブラウザーで別のページを開いたり、ブラウザーを終了したりすると、変更は失われます。

操作が正常に完了すると通知されます。 操作が正常に完了しなかった場合は、エラー メッセージが表示され、発生した問題とその解決方法が示されます。

## <a name="update-or-delete-a-field"></a>フィールドの更新または削除
1. [powerapps.com](https://web.powerapps.com) で **[Manage (管理)]**、**[Entities (エンティティ)]** の順にクリックまたはタップし、エンティティをクリックまたはタップします。
2. 選択したエンティティのフィールド一覧でフィールドをクリックまたはタップし、次の手順のいずれかに従います。
   
   * フィールドの 1 つ以上のプロパティを変更します。 [ベスト プラクティスと制限事項](data-platform-manage-fields.md#best-practices-and-restrictions)に注意してください。
     
       Tab キーを押すと、次のプロパティが選択されます。フィールドに加えたすべての変更を元に戻すには、フィールドの横の省略記号 (...)、**[Undo (元に戻す)]** の順にクリックまたはタップします。
   * フィールドの右端にある省略記号 (...) をクリックまたはタップし、**[削除]** をクリックまたはタップしてフィールドを削除します。
3. **[Save (保存)]** をクリックまたはタップして変更を送信します。
   
    > [!IMPORTANT]
    > 変更を保存する前にブラウザーで別のページを開いたり、ブラウザーを終了したりすると、変更は失われます。

操作が正常に完了すると通知されます。 操作が正常に完了しなかった場合は、エラー メッセージが表示され、発生した問題とその解決方法が示されます。

## <a name="best-practices-and-restrictions"></a>ベスト プラクティスと制限事項
フィールドの作成や変更を行う際は、次の点を考慮してください。

* システム フィールドとその値は変更と削除ができません。
* 標準エンティティでは、標準 (既定) フィールドの変更と削除、データを必要とするフィールドの追加など、そのエンティティに依存するアプリに障害が発生する可能性のある変更は実行できません。
* カスタム エンティティでは、変更を加えることでそのエンティティに依存するアプリに障害が発生しないことを確認する必要があります。
* 各カスタム フィールドに、エンティティ内で一意である名前を付ける必要があります。作成した後で、フィールドの名前を変更することはできません。
* フィールドにまだデータが含まれていない場合は、どのフィールドのデータ型でも変更できます。 フィールドに既にデータが含まれている状態で、既存のすべてのデータが新しいデータ型の要件を満たしている場合は、データ型を変更できます。 たとえば、フィールドのデータ型を **Number** から **String** に変更することはできますが、フィールドに数値以外のデータが含まれている場合にデータ型を **String** から **Number** に変更することはできません。
* エンティティのフィールドに以下の変更を加えると、エンティティを使用するアプリに障害が発生する可能性があります。
  * フィールドのデータ型を変更する。
  * 1 つ以上のレコードで値が含まれていないフィールドに対して値の入力を必須にする。
  * 2 つ以上のレコードで同じ値が含まれているフィールドに対して一意の値を必須にする。

## <a name="next-steps"></a>次の手順
* [エンティティ間のリレーションシップを定義する](data-platform-entity-lookup.md)
* [エンティティを使用してアプリを作成する](data-platform-create-app.md)
* [Common Data Service データベースを使用してアプリを最初から作成する](data-platform-create-app-scratch.md)

## <a name="privacy-notice"></a>プライバシーに関する声明
Microsoft PowerApps の Common Data Service では、Microsoft の診断システムにカスタム エンティティとフィールド名を収集して格納します。  収集した情報は、お客様向けの Common Data Service の改善に使用します。 作成者が作成するエンティティとフィールド名は、Microsoft PowerApps コミュニティ全体で共通するシナリオを理解したり、組織に関するスキーマなどの、サービスの標準エンティティの対象範囲のギャップを確認したりする場合に役立ちます。 このエンティティに関連するデータベース テーブルのデータに、Microsoft がアクセスまたは使用することはありません。また、データベースがプロビジョニングされているリージョン外にデータがレプリケートされることもありません。 ただし、カスタム エンティティとフィールド名はリージョン間でレプリケートされ、Microsoft のデータ保持ポリシーに基づいて削除される場合があります。 Microsoft はお客様のプライバシーを尊重いたします。詳細については、[Trust Center](https://www.microsoft.com/trustcenter/Privacy/default.aspx) を参照してください。


---
title: PowerApps でモデル駆動型アプリ フォームへのアクセスを制御する | MicrosoftDocs
description: メイン フォームへのアクセスを制御する方法について説明します
ms.custom: ''
ms.date: 06/27/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
author: Mattp123
ms.assetid: 15d123e0-b604-45dd-ab34-0b37787a04bb
caps.latest.revision: 33
ms.author: matp
manager: kvivek
tags: ''
ms.openlocfilehash: a895bd9ea0257585f942840924a7044a4dcc23fb
ms.sourcegitcommit: aba996b1773ecdf62758e06b34eaf57bede29e08
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/08/2018
ms.locfileid: "39691214"
---
# <a name="control-access-to-model-driven-app-forms"></a>モデル駆動型アプリ フォームへのアクセスを制御する

 メイン フォームへのアクセスを制御するには、2 つの方法があります。  
  
- **メイン フォームを非アクティブにする**  
  
     メイン フォームには、アクティブまたは非アクティブの状態を設定できます。 この機能は、主に、Dynamics 365 ユーザー エンゲージメント組織がアップグレードするときに追加される新しいフォームを管理するために追加されましたが、この機能を使用して、ユーザーがメイン フォームを使用できないようにすることもできます。   
  
- **メイン フォームにセキュリティ ロールを割り当てる**  
  
     特定のグループがメイン フォームを使用できるようにする場合に使用します。  
  
 組織内のさまざまなユーザーが、さまざまな方法で同じデータをやりとりする場合があります。 マネージャーはレコード内の情報をすばやくスキャンできることを重視する場合があり、サービス担当者はデータ入力を合理化するフォームを必要とする場合があります。 さまざまなグループのユーザーが属するセキュリティ ロールにフォームを割り当てることで、さまざまな要件に対応することができます。  
  
 詳細な手順については、[フォームにセキュリティ ロールを割り当てる方法](https://docs.microsoft.com/dynamics365/customer-engagement/admin/assign-security-roles-form)に関するページを参照してください。  
  
 エンティティ用に複数のメイン フォームまたはモバイル フォームが定義されている場合、セキュリティ ロールに基づいてユーザーが使用できるフォームを選択できます。 各エンティティは、任意のユーザーにフォームを表示できる必要があるため、少なくとも 1 つのフォームを "フォールバック" フォームとして指定する必要があります。フォールバック フォームとは、セキュリティ ロールにフォームが明示的に割り当てられていないユーザーも表示できるフォームです。  
  
> [!NOTE]
>  簡易作成フォームと簡易表示フォームをセキュリティ ロールに割り当てることはできません。  
  
 フォーム エディター内またはフォーム グリッドから、フォームにセキュリティ ロールを割り当てることができます。 ただし、エンティティのフォームが 1 つのみの場合は、**[セキュリティ ロールの​​割り当て]** ダイアログ ボックスで **[フォールバックとして有効]** オプションをオフにすることはできません。 この場合、このフォームにセキュリティ ロールを割り当てたとしても、含めなかったセキュリティ ロールに関連付けられているユーザーがこのフォームを表示できます。これは、フォールバックとして有効なためです。  
  
 エンティティ用に 2 つ目のメイン フォームまたはモバイル フォームを作成した後は、いずれかのフォームについて **[フォールバックとして有効]** オプションをオフにすることができます。 システムによって、少なくとも 1 つのフォームがフォールバックとして常に有効にされます。  
  
 複数のメイン フォームがある場合は、フォームの順序を指定できます。フォームの順序によって、あるユーザーが表示を許可されているフォームのうち、既定で表示されるフォームを制御できます。 使用できるフォームが複数ある場合は、フォームを変更することができます。また、選択したフォームは、別のフォームを選択するまで既定のフォームになります。 この設定は、ユーザーにブラウザーに保存されます。 ユーザーが別のコンピューターやブラウザーを使用すると、元の既定のフォームが表示されます。  
  
## <a name="strategies-to-manage-the-fallback-form"></a>フォールバック フォームを管理するための戦略  
 フォールバック フォームの管理には、以下のような戦略があります。  
  
<a name="BKMK_DoNotUseMultipleForms"></a>   
### <a name="all-users-view-the-same-form"></a>すべてのユーザーが同じフォームを表示する  
 エンティティで複数のフォームが必要ない場合、フォールバック フォームは必要ありません。  
  
<a name="BKMK_Contingecyform"></a>   
### <a name="create-a-contingency-form"></a>代替フォームを作成する  
 ユーザーが表示または編集できる情報を制限するためにロールベースのフォームを使用している場合は、最小限の情報が表示されるフォームを作成することを検討してください。 次に、**[セキュリティ ロールの割り当て]** ダイアログ ボックスで **[選択されている次のセキュリティ ロールに対してのみ表示する]** をオンにします。ただし、システム管理者以外のすべてのロールは選択せず、**[フォールバックとして有効]** を選択します。 その結果、このフォームを表示できるのは、システム管理者と、特定のフォームに関連付けられていないセキュリティ ロールを持つユーザーのみになります。 このフォームには、フォームの情報がほとんど表示されない理由や、フォームに関連付けられているセキュリティ ロールへの追加の要求やフォームの新しいセキュリティ ロールへの追加の方法に関する情報のリンクを記載した HTML Web リソースを含めることができます。  
  
> [!NOTE]
>  フォーム ヘッダーまたはフッターに Web リソースを含めることはできません。  
  
<a name="BKMK_CreateGenericForm"></a>   
## <a name="create-a-generic-form"></a>汎用フォームを作成する  
 ロールベースのフォームを使用して、ユーザーのロールに基づいてカスタマイズされたエクスペリエンスを提供する場合は、フォールバック フォームとして特殊化されていないフォームを設定し、全員に表示するように構成することができます。 次に、特定のセキュリティ ロールに合わせてカスタマイズされたフォームを作成し、それを必要とするセキュリティ ロールに対してのみ表示されるようにフォームを構成します。 このようなフォームはフォールバックとして有効にしないでください。 最後に、**[フォーム]** リストで、**[フォームの順序]** ダイアログを使用して、共有度が最も低いフォームから最も高いフォームの順に表示されるように指定します。 フォールバック フォームはリストの末尾になります。 この戦略によって、既定のフォームとして自分のロールに合わせてカスタマイズされたフォームがユーザーに表示されますが、必要に応じてフォーム セレクターを使用して最も一般的なフォームを選択することもできます。 ユーザーがどのフォームを選択しても、別のフォームを選択するまで既定のフォームは変わりません。  
  
<a name="BKMK_UseFormScripting"></a>   
## <a name="use-form-scripting"></a>フォームのスクリプトを使用する  

 最後に、Web アプリケーションの場合、開発者がフォームの Onload イベントにスクリプトを使用し、[Xrm.Page.ui.formSelector.items collection](http://go.microsoft.com/fwlink/p/?LinkID=513300) を使用して、使用できるフォームのクエリを実行し、navigate メソッドを使用してユーザーを特定のフォームに誘導することはできますが、推奨されません。 [navigate メソッド](http://go.microsoft.com/fwlink/p/?LinkID=513301)によって、フォームが再度読み込まれる (また、Onload イベントが再度発生する) 点に注意してください。 無限ループを回避するため、またはフォーム間を移動するユーザー オプションを不必要に制限することのないように、navigate メソッドを使用する前に、イベント ハンドラーのロジックで常に条件を確認するようにしてください。  
  
 複数のフォームを選択できないため、この方法はタブレット用の Dynamics 365 には使用できません。  

### <a name="next-steps"></a>次の手順  

[フォームにセキュリティ ロールを割り当てる](https://docs.microsoft.com/dynamics365/customer-engagement/admin/assign-security-roles-form)

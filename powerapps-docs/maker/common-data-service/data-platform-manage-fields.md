---
title: エンティティでのカスタム フィールドの管理のクイック スタート | Microsoft Docs
description: エンティティでのカスタム フィールドの作成、読み取り、更新、削除に関するクイック スタートです。
documentationcenter: na
author: clwesene
manager: kfile
editor: ''
tags: ''
ms.service: powerapps
ms.devlang: na
ms.topic: conceptual
ms.component: cds
ms.date: 3/21/2018
ms.author: clwesene
ms.openlocfilehash: a2dfe95cd9e858326a9f014aaac4e595fb27be48
ms.sourcegitcommit: 8bd4c700969d0fd42950581e03fd5ccbb5273584
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/26/2018
---
# <a name="quickstart-manage-custom-fields"></a>クイック スタート: カスタム フィールドを管理する
どのエンティティでも 1 つ以上のカスタム フィールドの作成や更新を行うことができます。 カスタム フィールドを作成する際は、フィールドの名前、表示名、フィールドに格納されるデータの型などのプロパティを指定します。 詳しくは、[Entity attribute metadata](../../developer/common-data-service/entity-attribute-metadata.md) (エンティティの属性メタデータ) に関するページをご覧ください。

> [!NOTE]
> すべてのエンティティには、レコードの最終更新日や更新者を示すフィールドなどの "システム フィールド" があります。 また、[標準エンティティ](data-platform-intro.md#system-fields)には標準 (既定) フィールドがあります。 システム フィールドと標準フィールドは変更や削除ができません。 カスタム フィールドは、これらの組み込みフィールドにない機能が必要な場合に作成してください。

## <a name="create-a-field"></a>フィールドの作成

1. [powerapps.com](https://web.powerapps.com) で、**[データ]** セクションを展開し、左側のナビゲーション ウィンドウで **[エンティティ]** をクリックまたはタップします。

    ![エンティティの詳細](./media/data-platform-cds-create-entity/entitylist.png "エンティティの一覧")

2. 既存のエンティティまたは [[新しいエンティティを作成する]](data-platform-create-entity.md) を、タップまたはクリックします。

3. **[フィールドの追加]** をクリックして、エンティティに新しいフィールドを追加します。

4. [新しいフィールド] パネルで、フィールドの **[表示名]** を入力します。**[名前]** は自動的に設定され、フィールドの一意名として使われます。 **[表示名]** はユーザーにこのフィールドを表示するときに使われ、**[名前]** はアプリを構築するときや、式や数式で使われます。

    > [!NOTE]
    > **[表示名]** フィールドはいつでも更新でき、アプリでの表示が変わります。**[名前]** フィールドは、変更すると既存のアプリに影響するので、エンティティを保存した後では変更できません。

    ![新しいフィールド](./media/data-platform-cds-create-entity/newfieldpanel.png "[新しいフィールド] パネル")

5. フィールドの **[データ型]** を選びます。この設定は、情報の格納方法およびアプリでの表示方法を制御します。 たとえば、テキストは、10 進数や URL とは格納方法が異なります。 使用可能なデータ型について詳しくは、[Entity attribute metadata](../../developer/common-data-service/entity-attribute-metadata.md) (エンティティの属性メタデータ) に関するページをご覧ください。

    指定したデータ型の追加情報を求められたら、その情報を入力します。 データ型に応じて異なるフィールドが表示されます。 オプション セット型または複数選択オプション セット型のフィールドを作成する場合は、**[新しいオプション セット]** を選び、フィールドを作成しながら新しいオプション セットを作成できます。 詳しくは、[オプション セットの作成に関するページ](custom-picklists.md)をご覧ください。

    ![新しいフィールド](./media/data-platform-cds-create-entity/newfieldpanel-2.png "[新しいフィールド] パネル")


7. このフィールドをアプリで必須として推奨する場合は、**[必須]** チェック ボックスをオンにします。 これにより、Common Data Service へのすべての接続で強制されることはありません。 フィールドが確実に設定される必要がある場合は、[ビジネス ルール](data-platform-create-business-rule.md)を作成します。

8. このフィールドをビュー、グラフ、ダッシュボード、詳細検索で利用できるようにする必要がある場合は、**[検索可能]** チェック ボックスをオンにします。 ほとんどの場合は、このチェック ボックスをオンにする必要があります。

9. **[完了]** をクリックまたはタップし、[フィールド] パネルを閉じてエンティティに戻ります。 追加するフィールドごとにステップ 3 から 9 を繰り返します。
   
    > [!IMPORTANT]
    > エンティティへの変更を保存するまでは、フィールドは保存も作成もされません。

10. 変更を確定して Common Data Service に保存するには、**[エンティティの保存]** をクリックまたはタップします。

    操作が正常に完了すると通知されます。 操作が正常に完了しなかった場合は、エラー メッセージが表示され、発生した問題とその解決方法が示されます。

## <a name="create-a-calculated-or-roll-up-field"></a>計算フィールドまたはロールアップ フィールドを作成する

計算フィールドを使うと、ビジネス プロセスで使われる手動計算を自動化できます。 たとえば、営業担当者は営業案件の予想収益に確率を掛けた値に基づく営業案件の加重の収益を知りたい場合があります。 または、注文が 500 ドルを超えたら自動的に割引を適用したい場合があります。 計算フィールドは、単純な算術演算や、より大きい、if-else といった条件演算の結果の値を格納できます。 計算フィールドは、次のデータ型を使って作成できます。

* 1 行テキスト
* オプション セット
* 2 つのオプション
* 整数
* 10 進数
* 通貨
* 日付と時刻

サポートされている式の種類と例について詳しくは、[計算フィールドの定義](/dynamics365/customer-engagement/customize/define-calculated-fields)に関するページをご覧ください。


## <a name="update-or-delete-a-field"></a>フィールドの更新または削除
1. [powerapps.com](https://web.powerapps.com) で、**[データ]** セクションを展開し、左側のナビゲーション ウィンドウで **[エンティティ]** をクリックまたはタップしてから、エンティティをクリックまたはタップします。
2. 選択したエンティティのフィールド一覧でフィールドをクリックまたはタップし、次の手順のいずれかに従います。
   
   * フィールドの 1 つ以上のプロパティを変更します。
   * フィールドの右端にある省略記号 (...) をクリックまたはタップし、**[削除]** をクリックまたはタップしてフィールドを削除します。

3. **[エンティティの保存]** をクリックまたはタップして変更を送信します。
   
    > [!IMPORTANT]
    > 変更を保存する前にブラウザーで別のページを開いたり、ブラウザーを終了したりすると、変更は失われます。

    操作が正常に完了すると通知されます。 操作が正常に完了しなかった場合は、エラー メッセージが表示され、発生した問題とその解決方法が示されます。

## <a name="best-practices-and-restrictions"></a>ベスト プラクティスと制限事項
フィールドの作成や変更を行う際は、次の点を考慮してください。

* システム フィールドとその値は変更と削除ができません。
* 標準エンティティでは、標準 (既定) フィールドの変更と削除、データを必要とするフィールドの追加など、そのエンティティに依存するアプリに障害が発生する可能性のある変更は実行できません。
* カスタム エンティティでは、変更を加えることでそのエンティティに依存するアプリに障害が発生しないことを確認する必要があります。
* 各カスタム フィールドに、エンティティ内で一意である名前を付ける必要があります。作成した後で、フィールドの名前を変更することはできません。

## <a name="next-steps"></a>次の手順
* [エンティティ間のリレーションシップを定義する](data-platform-entity-lookup.md)
* [ビジネス ルールを作成する](data-platform-create-business-rule.md)
* [エンティティを使用してアプリを作成する](../canvas-apps/data-platform-create-app.md)
* [Common Data Service データベースを使用してアプリを最初から作成する](../canvas-apps/data-platform-create-app-scratch.md)

## <a name="privacy-notice"></a>プライバシーに関する声明
Microsoft PowerApps の Common Data Service では、Microsoft の診断システムにカスタム エンティティとフィールド名を収集して格納します。  収集した情報は、お客様向けの Common Data Service の改善に使用します。 作成者が作成するエンティティとフィールド名は、Microsoft PowerApps コミュニティ全体で共通するシナリオを理解したり、組織に関するスキーマなどの、サービスの標準エンティティの対象範囲のギャップを確認したりする場合に役立ちます。 このエンティティに関連するデータベース テーブルのデータに、Microsoft がアクセスまたは使用することはありません。また、データベースがプロビジョニングされているリージョン外にデータがレプリケートされることもありません。 ただし、カスタム エンティティとフィールド名はリージョン間でレプリケートされ、Microsoft のデータ保持ポリシーに基づいて削除される場合があります。 Microsoft はお客様のプライバシーを尊重いたします。詳細については、[Trust Center](https://www.microsoft.com/trustcenter/Privacy/default.aspx) を参照してください。


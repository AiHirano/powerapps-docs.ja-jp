---
title: Common Data Service for Apps のクイック スタート | Microsoft Docs
description: 新しいビジネス ルールの作成に関するクイック スタートです
services: powerapps
documentationcenter: na
author: clwesene
manager: kfile
editor: ''
tags: ''
ms.service: powerapps
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 3/21/2018
ms.author: clwesene
ms.openlocfilehash: 2d6920d8668f932703f96ec9fb25ddc563ebf119
ms.sourcegitcommit: 59785e9e82da8f5bd459dcb5da3d5c18064b0899
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/22/2018
---
# <a name="quickstart-create-a-new-business-rule"></a>クイック スタート: 新しいビジネス ルールを作成する

ビジネス ルールと推奨事項を作成すると、コードを記述したり、プラグインを作成したりしないで、ロジックと検証を適用することができます。ビジネス ルールでは、一般に使用されて頻繁に変更されるルールを実装および維持するための、簡単なインターフェイスが提供されます。 
  
 条件とアクションを組み合わせることにより、以下のすべてのことをビジネス ルールで行うことができます。  
  
-   フィールドの値を設定する  
  
-   フィールドの値をクリアする  
  
-   フィールドの要件レベルを設定する  
  
-   フィールドの表示/非表示を切り替える  
  
-   フィールドを有効または無効にする  
  
-   データを検証してエラー メッセージを表示する  
  
-   ビジネス インテリジェンスに基づいてビジネスの推奨事項を作成する  
  
## <a name="differences-between-canvas-and-model-driven-apps"></a>キャンバス アプリとモデル駆動型アプリの相違点

モデル駆動型アプリではビジネス ルールのすべてのアクションを使用できますが、キャンバス アプリでは、現時点で使用できないビジネス ルール アクションがあります。 キャンバス アプリでは次のアクションは**使用できません**。

-   フィールドの表示/非表示を切り替える  
  
-   フィールドを有効または無効にする  
    
-   ビジネス インテリジェンスに基づいてビジネスの推奨事項を作成する  

## <a name="prerequisites"></a>前提条件
このトピックの手順を行うには、エンティティを作成および編集できる[環境](../canvas-apps/working-with-environments.md)に切り替える必要があります。

## <a name="create-a-business-rule"></a>ビジネス ルールを作成する
  
1. [PowerApps](https://web.powerapps.com) にサインインし、左端近くにある **[データ]** の下向き矢印をクリックまたはタップします。

1. 表示される一覧で、**[エンティティ]** をクリックまたはタップします。
  
1. ビジネス ルールを作成するエンティティを開き (たとえば、**Account** エンティティを開きます)、**[ビジネス ルール]** タブをクリックします。  

1.  **[新規]** をクリックします。  
  
     ビジネス ルール デザイナー ウィンドウが開き、既に作成されている 1 つの条件が表示されます。 すべてのルールは条件から始まります。 ビジネス ルールは、その条件に基づいて 1 つまたは複数のアクションを実行します。  

    > [!TIP]
    > 既存のビジネス ルールを変更する場合は、変更する前に無効にする必要があります。  
  
1.  必要に応じて、ウィンドウの左上隅にある [説明] ボックスに説明を追加します。  
  
1.  以下に従って、スコープを設定します。  
  
    |||  
    |-|-|  
    |**選択する項目**|**設定されるスコープ**|  
    |**エンティティ**|モデル駆動型フォームとサーバー|  
    |**すべてのフォーム**|モデル駆動型フォーム|  
    |特定のフォーム (例: **Account** フォーム)|そのモデル駆動型フォームだけ|  

    > [!TIP]
    > キャンバス アプリを作成している場合は、スコープとしてエンティティを使う必要があります。
  
1. **条件を追加します**。 ビジネス ルールにさらに条件を追加するには、次の手順のようにします。  
  
    1.  **[コンポーネント]** タブの **[条件]** コンポーネントを、デザイナーのプラス記号にドラッグします。  
  
        ![ビジネス ルールに条件を追加する](./media/data-platform-cds-create-business-rule/add-condition-business-rule.png "ビジネス ルールに条件を追加する")  
  
    2.  条件のプロパティを設定するには、デザイナー ウィンドウで **[条件]** コンポーネントをクリックして、画面の右側にある **[プロパティ]** タブでプロパティを設定します。 プロパティを設定すると、Common Data Service によって **[プロパティ]** タブの下部に式が作成されます。  
  
    3.  条件に句 (AND または OR) を追加するには、**[プロパティ]** タブの **[新規]** をクリックして新しいルールを作成した後、そのルールのプロパティを設定します。 **[Rule Logic]\(ルール ロジック\)** フィールドでは、AND または OR のどちらで新しいルールを追加するかを指定できます。  
  
        ![新しいルールを条件に追加する](./media/data-platform-cds-create-business-rule/add-new-rule-condition.png "新しいルールを条件に追加する")  
  
    4.  条件のプロパティの設定が終わったら、**[適用]** をクリックします。  
  
9. **アクションを追加します**。 アクションを追加するには、次の手順のようにします。  
  
    1.  **[コンポーネント]** タブのアクション コンポーネントの 1 つを、**[条件]** コンポーネントの隣のプラス記号にドラッグします。 ビジネス ルールの条件が満たされたときにそのアクションを実行する場合は、チェック マークの横にあるプラス記号にアクションをドラッグし、条件が満たされないときにアクションを実行する場合は、x 印の横にあるプラス記号にドラッグします。  
  
        ![ビジネス ルールにアクションをドラッグする](./media/data-platform-cds-create-business-rule/drag-an-action-business-rule.png "ビジネス ルールにアクションをドラッグする")  
  
    2.  アクションのプロパティを設定するには、デザイナー ウィンドウで **[アクション]** コンポーネントをクリックし、**[プロパティ]** タブでプロパティを設定します。  
  
    3.  プロパティの設定が終わったら、**[適用]** をクリックします。  
  
10. **ビジネスの推奨設定を追加します (モデル駆動型のみ)**。ビジネスの推奨設定を追加するには、次の手順のようにします。  
  
    1.  **[コンポーネント]** タブの **[推奨事項]** コンポーネントを、**[条件]** コンポーネントの隣のプラス記号にドラッグします。 ビジネス ルールの条件が満たされたときにそのアクションを実行する場合は、チェック マークの横にあるプラス記号に **[推奨事項]** コンポーネントをドラッグし、条件が満たされないときにアクションを実行する場合は、x 印の横にあるプラス記号にドラッグします。  
  
    2.  推奨事項のプロパティを設定するには、デザイナー ウィンドウで **[推奨事項]** コンポーネントをクリックし、**[プロパティ]** タブでプロパティを設定します。  
  
    3.  推奨事項にさらにアクションを追加するには、**[コンポーネント]** タブからアクションをドラッグし、**[プロパティ]** タブで各アクションのプロパティを設定します。  
  
        > [!NOTE]
        >  推奨事項を作成すると、Common Data Service によって既定で 1 つのアクションが追加されます。 推奨事項のすべてのアクションを表示するには、**[推奨事項]** コンポーネントの **[詳細]** をクリックします。  
  
    4.  プロパティの設定が終わったら、**[適用]** をクリックします。  
  
11. ビジネス ルールを検証するには、操作バーの **[検証]** をクリックします。  
  
12. ビジネス ルールを保存するには、操作バーの **[保存]** をクリックします。  
  
13. ビジネス ルールをアクティブ化するには、ソリューション エクスプローラー ウィンドウでビジネス ルールを選び、**[アクティブ化]** をクリックします。 デザイナー ウィンドウからビジネス ルールをアクティブ化することはできません。  
  
> [!TIP]
>  デザイナー ウィンドウでビジネス ルールの作業を行うときに留意するいくつかのヒントを次に示します。  
>   
> - ビジネス ルール ウィンドウ内のすべてのもののスナップショットを取得するには、操作バーの **[スナップショット]** をクリックします。 これは、たとえばビジネス ルールをチーム メンバーと共有してメンバーからコメントを得るような場合に便利です。  
> - プロセスのさまざまな部分にすばやく移動するには、ミニマップを使います。 これは、画面に収まりきらない複雑なプロセスがある場合に便利です。  
> - 条件、アクション、ビジネスの推奨事項をビジネス ルールに追加すると、Common Data Service によって、デザイナー ウィンドウの下部にビジネス ルールのコードが作成されます。 このコードは読み取り専用です。  
  
## <a name="localize-error-messages-used-in-business-rules"></a>ビジネス ルールで使われるエラー メッセージをローカライズする  
 組織に複数の言語がプロビジョニングされている場合、設定したエラー メッセージをローカライズする必要があります。 メッセージを設定するたびに、システムによってラベルが生成されます。 組織での翻訳をエクスポートし、メッセージのローカライズ版を追加してから、ラベルを Common Data Service にインポートして戻すと、基本の言語以外の言語を使うユーザーでも翻訳されたメッセージを表示できるようになります。  
  